#include <iostream>
#include <bits/stdc++.h>
#define SIZE 150
using namespace std;

int temp = 100;
float demand[SIZE] ={900,500,680,100,400,780,800,890,460,350,170,100,580,210,100,55,21,4,5,90,400,320,418,99,26,450,87,4,584,210,340,532,600,46,78,72,50,50,20,70,20,20,30,3.8,100,200,350,1000,500,380,450,2,1200,3500,45,38,40,40,60,500,400,19,67,38,14,40,100,50,4000,4000,150,20,900,7.2,20,1.8,20.2,5.4,7.3,1.4,50,37,0.2,0.1,80,75,0.1,23,48,0.4,54,200,200,450,21,150,0.5,0.2,0.1,0.1};
int price[SIZE] = {
33,10,32,152,39,68,53,56,84,10,320,125,99,15,114,156,59,48,77,11,108,55,34,10,50,340,20,349,209,48,350,235,68,332,298,35,25,5,120,110,2230,1670,120,290,100,559,130,30,60,252,279,110,25,5,532,2499,999,1199,169,30,20,999,95,10,295,322,140,662,115,95,1000,120,240,52,385,1099,42,50,229,230,89,200,379,4289,58,20,1499,249,45,599,150,110,64,52,85,215,349,279,159,119};
string names[SIZE] = { "Aarogya Milk Packet" , "Nescafe Instant Coffee" ,"Aavin Curd", "Fortune Oil" , "Clinic Plus shampoo" , "Naga Rava", "Aashirvaad Atta","Idli Rice", "Sunland sunflower oil", "Milk Bikis Biscuit", "RBG Ghee", "Pears soap bar combo", "Dettol Handwash set", "Chings Noodles", "Dabur Honey", "Sakthi Chilli Powder", "Biryani Masala", "Chia seeds", "L G Asafoetida", "Coriander leaves", "Garam masala", "MTR Sambar mix", "Coriander powder", "Curry leaves", "Gilette blade", "3 Roses Tea Powder", "Haldirams Aloo Bhujia", "Laptemp screen guard", "Comfort liquantityuid soap", "Vim Bar", "Scotch Brite dishwasher", "Ariel Matic detergent", "Colgate toothpaste", "Fogg deodorant", "Copier A4 Sheet Bundle", "Camlin notebook", "Cello ballpoint pen pack", "Apsara non-dust eraser", "Hose pipe 1 inch", "Plastic Broom", "Haier Ceiling Fan", "Table lamp", "Adapter cable", "Junction box", "Havells LED Bulb", "Boat Headphones" , "Volini spray", "Paracetamol tablet strip", "Plastic wrap roll", "Maybelline Kajal", "Vaseline lotion", "Nailcutter", "Lifebuoy Sanitizer", "Surgical mask", "Pigeon flask", "Philips Kettle", "Philips hair straightener", "Curling iron", "Layerâ€™r perfume", "Hair clips", "Rubber bands", "DNMX Denims", "Apsara pencil box", "Safety pins (box of10)", "Indulekha shampoo", "Chyawanprash", "Kabasura Kudineer", "Cashewnuts", "Urad dal", "Toor dal", "Badam", "Apricot", "Tamarind", "Grapes", "Brown rice", "Skybags school bag", "Dazzler Eyeliner", "Eggs (of 6)", "Zebronics mouse", "Milton water bottle", "Tissue paper", "Hand towel", "laundry basket Nilkamal", "Preethi mixer grinder", "Parryware Sugar", "Tata Salt", "Godrej mini drawer", "Multiport audio jack", "Dairy milk", "pendrive", "Rusk", "Tomato", "Potato", "Banana", "Cinthol", "Apple", "Window Screen", "Plant pot", "Tatasky TV Remote", "Wall hanging" };

int valuesum = 0;
float value[SIZE], cumulperc, cummulative[SIZE];
char classassigned[SIZE];
double quantity[SIZE];

void sortingalgo ()
{
  for (int i = 0; i <= temp; i++)
    {
      for (int j = i + 1; j <= temp; j++)
	{
	  if (value[i] < value[j])
	    {
	      int temp = value[i];
	      string tempname = names[i];
	      names[i] = names[j];
	      value[i] = value[j];
	      value[j] = temp;
	      names[j] = tempname;
	    }
	}
    }
}

void additem ()
{
  temp++;
  cout << "\nEnter item name: ";
  cin >> names[temp];
  cout << "\nEnter item price: ";
  cin >> price[temp];
  cout << "\nEnter item demand: ";
  cin >> demand[temp];
  cout << "Item Added\n";

}

void valuecalc ()
{
  for (int i = 0; i <= temp; i++)
    {
      value[i] = price[i] * demand[i];
    }
}

void assignclass ()
{
  valuesum = 0;
  for (int i = 0; i <= temp; i++)
    {
      valuesum += value[i];
    }
  for (int i = 0; i <= temp; i++)
    {
      cumulperc = float (value[i] * 100 / valuesum);

      cummulative[i] = cummulative[i - 1] + cumulperc;

      if (cummulative[i] < 85 && cummulative[i] > 0)
	{
	  classassigned[i] = 'A';

	}
      else if (cummulative[i] > 85 && cummulative[i] < 95)
	{
	  classassigned[i] = 'B';
	}
      else
	{
	  classassigned[i] = 'C';
	}
    }
}

void eoq ()
{
  for (int i = 0; i <= temp; i++)
    {
        if(classassigned[i]=='A')
        {
      quantity[i] = sqrt (2 * demand[i] * 1000 / 5);
        }
      
    }
}

void display ()
{
  for (int i = 0; i <= temp; i++)
    {
      cout << names[i] << " : Class " << classassigned[i] << "\tEOQ: " << quantity[i] <<
	"\n";
    }
}


int main ()
{
  char ch = 'y';
  int option;
  valuecalc ();
  sortingalgo ();
  assignclass ();
  eoq();
  while (ch == 'y')
    {
      cout << "1)Display items and their class\n 2)Add new item\n (Enter 1/2)";
      cin >> option;
      switch (option)
	{
	
	case 1:
	  display ();
	  break;
        case 2:
	  additem ();
	  valuecalc();
	  sortingalgo ();
	  assignclass ();
	  eoq();
	  break;
	default:
	  cout << "Enter only y or n.";
	}
      cout << "Do you wish to continue operating? (y/n)?";
      cin >> ch;
    }
  return 0;
}
